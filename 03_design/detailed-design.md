# è©³ç´°è¨­è¨ˆæ›¸

## FF14 é›¶å¼ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ç®¡ç†ãƒ„ãƒ¼ãƒ«

| é …ç›® | å†…å®¹ |
|------|------|
| ä½œæˆæ—¥ | 2026-01-20 |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | å®Œäº† |

---

## 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 1.1 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆå›³

```
App.vue
â”œâ”€â”€ AppHeader.vue                    # ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”œâ”€â”€ BossSelector.vue             # ãƒœã‚¹é¸æŠï¼ˆã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰
â”‚   â”œâ”€â”€ PartySelector.vue            # ãƒ‘ãƒ¼ãƒ†ã‚£é¸æŠ
â”‚   â”œâ”€â”€ ZoomControls.vue             # ã‚ºãƒ¼ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ï¼ˆè™«çœ¼é¡ï¼‰
â”‚   â””â”€â”€ EditToolbar.vue              # ç·¨é›†ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ï¼ˆç·¨é›†ãƒ¢ãƒ¼ãƒ‰æ™‚ã®ã¿ï¼‰
â”‚
â”œâ”€â”€ Timeline.vue                     # ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å…¨ä½“
â”‚   â”œâ”€â”€ BurstHighlight.vue           # ãƒãƒ¼ã‚¹ãƒˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆæœ€èƒŒé¢ï¼‰
â”‚   â”œâ”€â”€ TimelineHeader.vue           # ãƒ•ã‚§ãƒ¼ã‚ºãƒ»æ™‚é–“ãƒ»ã‚®ãƒŸãƒƒã‚¯è¡Œï¼ˆå›ºå®šéƒ¨åˆ†ï¼‰
â”‚   â”‚   â”œâ”€â”€ PhaseRow.vue             # ãƒ•ã‚§ãƒ¼ã‚ºè¡Œ
â”‚   â”‚   â”œâ”€â”€ TimeAxisRow.vue          # æ™‚é–“è»¸è¡Œ
â”‚   â”‚   â””â”€â”€ GimmickRow.vue           # ã‚®ãƒŸãƒƒã‚¯è¡Œ
â”‚   â”‚
â”‚   â””â”€â”€ MemberArea.vue               # ãƒ¡ãƒ³ãƒãƒ¼è¡Œï¼ˆç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«éƒ¨åˆ†ï¼‰
â”‚       â””â”€â”€ MemberRow.vue            # å„ãƒ¡ãƒ³ãƒãƒ¼è¡Œï¼ˆÃ—8ï¼‰
â”‚           â”œâ”€â”€ MemberHeader.vue     # è¡Œé ­ï¼ˆã‚¸ãƒ§ãƒ–é¸æŠãƒ»åå‰å…¥åŠ›ï¼‰
â”‚           â””â”€â”€ SkillTimeline.vue    # ã‚¹ã‚­ãƒ«é…ç½®ã‚¨ãƒªã‚¢
â”‚
â”œâ”€â”€ HelpText.vue                     # ãƒ˜ãƒ«ãƒ—ãƒ†ã‚­ã‚¹ãƒˆ
â”‚
â”œâ”€â”€ modals/
â”‚   â”œâ”€â”€ PartyManageModal.vue         # ãƒ‘ãƒ¼ãƒ†ã‚£ç®¡ç†ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”œâ”€â”€ ContentSettingsModal.vue     # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆç·¨é›†ãƒ¢ãƒ¼ãƒ‰ï¼‰
â”‚   â””â”€â”€ ConfirmModal.vue             # ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼ˆæ±ç”¨ï¼‰
â”‚
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ CascadeMenu.vue              # ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆæ±ç”¨ï¼‰
â”‚   â”œâ”€â”€ SkillPopup.vue               # ã‚¹ã‚­ãƒ«é¸æŠãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
â”‚   â”œâ”€â”€ ContextMenu.vue              # å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆæ±ç”¨ï¼‰
â”‚   â””â”€â”€ Toast.vue                    # ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥
â”‚
â””â”€â”€ timeline-items/
    â”œâ”€â”€ PhaseBar.vue                 # ãƒ•ã‚§ãƒ¼ã‚ºãƒãƒ¼
    â”œâ”€â”€ GimmickBar.vue               # ã‚®ãƒŸãƒƒã‚¯ãƒãƒ¼
    â””â”€â”€ SkillBar.vue                 # ã‚¹ã‚­ãƒ«ãƒãƒ¼
```

### 1.2 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°

#### App.vue
- ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- å…¨ä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç®¡ç†
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®ãƒªã‚¹ãƒŠãƒ¼ç™»éŒ²

#### AppHeader.vue
- ãƒ˜ãƒƒãƒ€ãƒ¼é ˜åŸŸ
- é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ãƒ»ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã§è¡¨ç¤ºå†…å®¹ã‚’åˆ‡ã‚Šæ›¿ãˆ

**é€šå¸¸ãƒ¢ãƒ¼ãƒ‰:**
```
[ãƒœã‚¹é¸æŠ â–¼] [ãƒ‘ãƒ¼ãƒ†ã‚£é¸æŠ â–¼] [ãƒ‘ãƒ¼ãƒ†ã‚£ç®¡ç†] [è¨­å®š] [ä¿å­˜]
```

**ç·¨é›†ãƒ¢ãƒ¼ãƒ‰:**
```
[ç·¨é›†ä¸­: ãƒœã‚¹å] [â†–é¸æŠ][âœ‚åˆ†å‰²][ğŸ—‘å‰Šé™¤][ï¼‹ã‚®ãƒŸãƒƒã‚¯][ï¼‹ãƒãƒ¼ã‚¹ãƒˆ] [è¨­å®š][ç·¨é›†çµ‚äº†][ä¿å­˜]
```

#### Timeline.vue
- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å…¨ä½“ã®ã‚³ãƒ³ãƒ†ãƒŠ
- æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç®¡ç†
- ã‚ºãƒ¼ãƒ ç®¡ç†
- BurstHighlightã‚’æœ€èƒŒé¢ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦æç”»

#### BurstHighlight.vue
- ãƒãƒ¼ã‚¹ãƒˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
- ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å…¨ä½“ã‚’æ¨ªæ–­ã—ã¦æç”»
- é€šå¸¸ãƒ¢ãƒ¼ãƒ‰: èƒŒæ™¯è¡¨ç¤ºã®ã¿ï¼ˆç·¨é›†ä¸å¯ï¼‰
- ç·¨é›†ãƒ¢ãƒ¼ãƒ‰: ãƒ‰ãƒ©ãƒƒã‚°ç§»å‹•ã€ãƒªã‚µã‚¤ã‚ºå¯èƒ½

#### MemberArea.vue
- ãƒ¡ãƒ³ãƒãƒ¼è¡Œã®ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚³ãƒ³ãƒ†ãƒŠ
- è¡Œé ­ã§ãƒ›ã‚¤ãƒ¼ãƒ« â†’ ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«

#### MemberRow.vue
- 1äººåˆ†ã®ãƒ¡ãƒ³ãƒãƒ¼è¡Œ
- MemberHeaderï¼ˆå›ºå®šåˆ—ï¼‰+ SkillTimelineï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é ˜åŸŸï¼‰

#### SkillPopup.vue
- ã‚¸ãƒ§ãƒ–è¡Œã‚¯ãƒªãƒƒã‚¯æ™‚ã«è¡¨ç¤º
- ã‚¯ãƒªãƒƒã‚¯ä½ç½®ä»˜è¿‘ã«é…ç½®
- è©²å½“ã‚¸ãƒ§ãƒ–ã®ã‚¹ã‚­ãƒ«ä¸€è¦§ã‚’è¡¨ç¤º

---

## 2. ç”»é¢ãƒ¢ãƒ¼ãƒ‰ã¨æ“ä½œ

### 2.1 ç”»é¢ãƒ¢ãƒ¼ãƒ‰

| ãƒ¢ãƒ¼ãƒ‰ | èª¬æ˜ | ç·¨é›†å¯èƒ½ãªè¦ç´  |
|--------|------|---------------|
| **é€šå¸¸ãƒ¢ãƒ¼ãƒ‰** | ãƒ‘ãƒ¼ãƒ†ã‚£ã®ã‚¹ã‚­ãƒ«é…ç½®ã‚’è¡Œã† | ã‚¹ã‚­ãƒ«é…ç½®ã€ãƒ¡ãƒ³ãƒãƒ¼ï¼ˆã‚¸ãƒ§ãƒ–ãƒ»åå‰ï¼‰ |
| **ç·¨é›†ãƒ¢ãƒ¼ãƒ‰** | ãƒœã‚¹ã‚®ãƒŸãƒƒã‚¯ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚’ç·¨é›† | ã‚®ãƒŸãƒƒã‚¯ã€ãƒ•ã‚§ãƒ¼ã‚ºã€ãƒãƒ¼ã‚¹ãƒˆãƒã‚¤ãƒ©ã‚¤ãƒˆ |

### 2.2 ç·¨é›†ãƒ„ãƒ¼ãƒ«

| ãƒ„ãƒ¼ãƒ« | ã‚¢ã‚¤ã‚³ãƒ³ | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | ç”¨é€” |
|--------|---------|---------------|------|
| é¸æŠ | â†– | V | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé¸æŠãƒ»ç§»å‹•ãƒ»ãƒªã‚µã‚¤ã‚º |
| åˆ†å‰² | âœ‚ | C | ãƒ•ã‚§ãƒ¼ã‚ºã‚’åˆ†å‰² |
| å‰Šé™¤ | ğŸ—‘ | Delete | é¸æŠä¸­ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å‰Šé™¤ |
| ã‚®ãƒŸãƒƒã‚¯è¿½åŠ  | ï¼‹ğŸ“‹ | - | ã‚®ãƒŸãƒƒã‚¯ã‚’è¿½åŠ  |
| ãƒãƒ¼ã‚¹ãƒˆè¿½åŠ  | ï¼‹âš¡ | - | ãƒãƒ¼ã‚¹ãƒˆã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è¿½åŠ  |

### 2.3 è¦ç´ åˆ¥ã®æ“ä½œ

| è¦ç´  | é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ | ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ |
|------|-----------|-----------|
| ã‚¹ã‚­ãƒ«ãƒãƒ¼ | ãƒ‰ãƒ©ãƒƒã‚°ç§»å‹•ã€è¿½åŠ ã€å‰Šé™¤ã€å¤‰æ›´ | - |
| ã‚®ãƒŸãƒƒã‚¯ãƒãƒ¼ | é–²è¦§ã®ã¿ | ãƒ‰ãƒ©ãƒƒã‚°ç§»å‹•ã€è¿½åŠ ã€å‰Šé™¤ã€ç·¨é›† |
| ãƒ•ã‚§ãƒ¼ã‚ºãƒãƒ¼ | é–²è¦§ã®ã¿ | ãƒ‰ãƒ©ãƒƒã‚°ç§»å‹•ï¼ˆå¾Œç¶šé€£å‹•ï¼‰ã€ãƒªã‚µã‚¤ã‚ºï¼ˆå¾Œç¶šé€£å‹•ï¼‰ã€åˆ†å‰² |
| ãƒãƒ¼ã‚¹ãƒˆãƒã‚¤ãƒ©ã‚¤ãƒˆ | æœ€èƒŒé¢è¡¨ç¤ºï¼ˆé–²è¦§ã®ã¿ï¼‰ | ãƒ‰ãƒ©ãƒƒã‚°ç§»å‹•ã€ãƒªã‚µã‚¤ã‚ºã€è¿½åŠ ã€å‰Šé™¤ |

### 2.4 ãƒ•ã‚§ãƒ¼ã‚ºã®æŒ™å‹•

#### åˆæœŸçŠ¶æ…‹
- 1ã¤ã®ãƒ•ã‚§ãƒ¼ã‚ºãŒã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å…¨ä½“ã‚’ã‚«ãƒãƒ¼ï¼ˆ0ç§’ã€œã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³é•·ï¼‰

#### åˆ†å‰²æ“ä½œ
- åˆ†å‰²ãƒ„ãƒ¼ãƒ«ï¼ˆâœ‚ï¼‰ã‚’é¸æŠ
- ãƒ•ã‚§ãƒ¼ã‚ºãƒãƒ¼ä¸Šã§ã‚¯ãƒªãƒƒã‚¯ â†’ ãã®ä½ç½®ã§åˆ†å‰²
- å¾Œã‚å´ã¯æ–°è¦ãƒ•ã‚§ãƒ¼ã‚ºã¨ã—ã¦ä½œæˆ

#### ç§»å‹•ãƒ»ãƒªã‚µã‚¤ã‚º
| æ“ä½œ | æŒ™å‹• |
|------|------|
| ç§»å‹•ï¼ˆå³ã¸ï¼‰ | å¾Œç¶šãƒ•ã‚§ãƒ¼ã‚ºã‚‚é€£å‹•ã€å‰ã®ãƒ•ã‚§ãƒ¼ã‚ºãŒä¼¸ã³ã¦éš™é–“ã‚’åŸ‹ã‚ã‚‹ |
| ç§»å‹•ï¼ˆå·¦ã¸ï¼‰ | å¾Œç¶šãƒ•ã‚§ãƒ¼ã‚ºã‚‚é€£å‹•ã€å‰ã®ãƒ•ã‚§ãƒ¼ã‚ºãŒç¸®ã‚€ï¼ˆ0ä»¥ä¸‹ã«ã¯ãªã‚‰ãªã„ï¼‰ |
| ãƒªã‚µã‚¤ã‚º | å¾Œç¶šãƒ•ã‚§ãƒ¼ã‚ºã‚‚é€£å‹•ã—ã¦ãšã‚Œã‚‹ |

**ãƒ•ã‚§ãƒ¼ã‚ºã¯å¸¸ã«éš™é–“ãªãé€£ç¶šã™ã‚‹ï¼ˆ0ç§’ã‹ã‚‰é–‹å§‹ï¼‰**

---

## 3. çŠ¶æ…‹ç®¡ç†è¨­è¨ˆï¼ˆPiniaï¼‰

### 3.1 ã‚¹ãƒˆã‚¢æ§‹æˆ

```
stores/
â”œâ”€â”€ contentStore.ts      // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆãƒœã‚¹ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼‰ç®¡ç†
â”œâ”€â”€ partyStore.ts        // ãƒ‘ãƒ¼ãƒ†ã‚£æ§‹æˆç®¡ç†
â”œâ”€â”€ skillMasterStore.ts  // ã‚¹ã‚­ãƒ«ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰
â”œâ”€â”€ uiStore.ts           // UIçŠ¶æ…‹ï¼ˆãƒ¢ãƒ¼ãƒ‰ã€é¸æŠã€ãƒ„ãƒ¼ãƒ«ç­‰ï¼‰
â”œâ”€â”€ historyStore.ts      // Undo/Redoå±¥æ­´ç®¡ç†
â””â”€â”€ index.ts             // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
```

### 3.2 contentStore

```typescript
// contentStore.ts - ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†

interface ContentState {
  contents: Content[]           // å…¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸€è¦§
  currentContentId: string | null  // ç¾åœ¨é¸æŠä¸­ã®ID
}

// Getters
getters: {
  currentContent(): Content | null
  phases(): Phase[]
  gimmicks(): Gimmick[]
  burstTimings(): BurstTiming[]
  raidList(): RaidInfo[]        // ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”¨
}

// Actions
actions: {
  // èª­ã¿è¾¼ã¿ãƒ»é¸æŠ
  loadContents(): Promise<void>
  selectContent(id: string): void

  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ“ä½œ
  createContent(data: Partial<Content>): Content
  updateContent(data: Partial<Content>): void
  saveContent(): void           // JSONãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

  // ãƒ•ã‚§ãƒ¼ã‚ºæ“ä½œ
  splitPhase(phaseId: string, time: number): void
  updatePhase(phase: Partial<Phase>): void
  deletePhase(phaseId: string): void
  movePhase(phaseId: string, newStartTime: number): void
  resizePhase(phaseId: string, newEndTime: number): void

  // ã‚®ãƒŸãƒƒã‚¯æ“ä½œ
  addGimmick(gimmick: Partial<Gimmick>): void
  updateGimmick(gimmick: Partial<Gimmick>): void
  deleteGimmick(gimmickId: string): void
  moveGimmick(gimmickId: string, newTime: number): void

  // ãƒãƒ¼ã‚¹ãƒˆæ“ä½œ
  addBurst(burst: Partial<BurstTiming>): void
  updateBurst(burst: Partial<BurstTiming>): void
  deleteBurst(burstId: string): void
  moveBurst(burstId: string, newStartTime: number): void
  resizeBurst(burstId: string, newStartTime: number, newEndTime: number): void
}
```

### 3.3 partyStore

```typescript
// partyStore.ts - ãƒ‘ãƒ¼ãƒ†ã‚£ç®¡ç†

interface PartyState {
  parties: Party[]              // å…¨ãƒ‘ãƒ¼ãƒ†ã‚£ä¸€è¦§
  currentPartyId: string | null // ç¾åœ¨é¸æŠä¸­ã®ID
}

// Getters
getters: {
  currentParty(): Party | null
  members(): Member[]
  partyList(): PartyInfo[]      // ã‚»ãƒ¬ã‚¯ã‚¿ç”¨
}

// Actions
actions: {
  // èª­ã¿è¾¼ã¿ãƒ»é¸æŠ
  loadParties(): void           // localStorageã‹ã‚‰
  selectParty(id: string): void

  // ãƒ‘ãƒ¼ãƒ†ã‚£æ“ä½œ
  createParty(data: Partial<Party>): Party
  updateParty(data: Partial<Party>): void
  deleteParty(partyId: string): void
  saveParty(): void             // localStorageã¸
  exportParty(): void           // JSONãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
  importParty(json: string): void

  // ãƒ¡ãƒ³ãƒãƒ¼æ“ä½œ
  updateMember(member: Partial<Member>): void
  reorderMembers(memberIds: string[]): void

  // ã‚¹ã‚­ãƒ«æ“ä½œ
  addSkill(memberId: string, skill: Partial<SkillPlacement>): void
  updateSkill(skill: Partial<SkillPlacement>): void
  deleteSkill(skillId: string): void
  moveSkill(skillId: string, newTime: number): void
}
```

### 3.4 uiStore

```typescript
// uiStore.ts - UIçŠ¶æ…‹ç®¡ç†

type EditTool = 'select' | 'split' | 'delete' | 'addGimmick' | 'addBurst'
type ObjectType = 'phase' | 'gimmick' | 'burst' | 'skill'

interface UIState {
  // ãƒ¢ãƒ¼ãƒ‰
  mode: 'normal' | 'edit'

  // ç·¨é›†ãƒ„ãƒ¼ãƒ«ï¼ˆç·¨é›†ãƒ¢ãƒ¼ãƒ‰æ™‚ï¼‰
  selectedTool: EditTool

  // é¸æŠçŠ¶æ…‹
  selectedObjectId: string | null
  selectedObjectType: ObjectType | null

  // è¡¨ç¤ºè¨­å®š
  zoomLevel: number             // 1.0 = 100%
  scrollPosition: { x: number, y: number }

  // ãƒ¢ãƒ¼ãƒ€ãƒ«
  modals: {
    partyManage: boolean
    contentSettings: boolean
    confirm: boolean
  }

  // ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ç”¨
  confirmData: {
    message: string
    onConfirm: () => void
  } | null
}

// Actions
actions: {
  setMode(mode: 'normal' | 'edit'): void
  setTool(tool: EditTool): void
  selectObject(id: string, type: ObjectType): void
  clearSelection(): void
  setZoom(level: number): void
  openModal(name: string): void
  closeModal(name: string): void
  showConfirm(message: string, onConfirm: () => void): void
}
```

### 3.5 historyStore

```typescript
// historyStore.ts - Undo/Redoç®¡ç†

interface HistoryEntry {
  type: 'content' | 'party'
  timestamp: number
  state: any                    // ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ
}

interface HistoryState {
  undoStack: HistoryEntry[]     // æœ€å¤§50ä»¶
  redoStack: HistoryEntry[]
}

// Actions
actions: {
  push(type: 'content' | 'party', state: any): void
  undo(): void
  redo(): void
  clear(): void
}

// å®šæ•°
const MAX_HISTORY = 50
```

### 3.6 skillMasterStore

```typescript
// skillMasterStore.ts - ã‚¹ã‚­ãƒ«ãƒã‚¹ã‚¿ãƒ¼

interface SkillMasterState {
  skills: Skill[]
  jobs: Job[]
}

// Getters
getters: {
  getSkillsByJob(job: string): Skill[]
  getSkillsByRole(role: string): Skill[]
  getSkillById(id: string): Skill | undefined
}

// Actions
actions: {
  loadSkillMaster(): Promise<void>
}
```

---

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

### 4.1 èµ·å‹•æ™‚ã®ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚¢ãƒ—ãƒªèµ·å‹• (App.vue onMounted)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“                         â†“                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ fetch()     â”‚       â”‚ fetch()         â”‚       â”‚ localStorage  â”‚
â”‚ index.json  â”‚       â”‚ jobs.json       â”‚       â”‚ .getItem()    â”‚
â”‚ â†’ *.json    â”‚       â”‚                 â”‚       â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“                       â†“                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚contentStore â”‚       â”‚skillMasterStore â”‚       â”‚  partyStore   â”‚
â”‚.loadContentsâ”‚       â”‚.loadSkillMaster â”‚       â”‚ .loadParties  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ã‚³ãƒ³ãƒ†ãƒ³ãƒ„èª­ã¿è¾¼ã¿è©³ç´°

```
index.json
    â†“
fetch('data/contents/index.json')
    â†“
raidsé…åˆ—ã‚’ãƒ«ãƒ¼ãƒ—
    â†“
å„boss.fileã‚’fetch
    â†“
contentStore.contentsã«æ ¼ç´
```

### 4.3 ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œæ™‚ã®ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œï¼ˆä¾‹: ã‚¹ã‚­ãƒ«ç§»å‹•ï¼‰                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: partyStore.moveSkill(skillId, newTime)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ partyStoreå†…:                                               â”‚
â”‚  1. historyStore.push('party', ç¾åœ¨ã®çŠ¶æ…‹)                  â”‚
â”‚  2. state.parties ã‚’æ›´æ–°                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $subscribe (partyStore):                                    â”‚
â”‚  - å¤‰æ›´æ¤œçŸ¥                                                 â”‚
â”‚  - ãƒ‡ãƒã‚¦ãƒ³ã‚¹(2ç§’)                                          â”‚
â”‚  - localStorage.setItem()                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vueãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–: ç”»é¢è‡ªå‹•æ›´æ–°                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 Undo/Redoãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ctrl+Z (Undo)                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ historyStore.undo():                                        â”‚
â”‚  1. undoStack.pop() â†’ entryå–å¾—                             â”‚
â”‚  2. ç¾åœ¨ã®çŠ¶æ…‹ã‚’redoStack.push()                            â”‚
â”‚  3. entry.typeã«å¿œã˜ã¦:                                     â”‚
â”‚     - 'content' â†’ contentStore.$patch(entry.state)          â”‚
â”‚     - 'party' â†’ partyStore.$patch(entry.state)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”»é¢æ›´æ–° + è‡ªå‹•ä¿å­˜ãƒˆãƒªã‚¬ãƒ¼                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

### 5.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
project/
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â”‚
â”œâ”€â”€ public/
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ contents/
â”‚       â”‚   â”œâ”€â”€ index.json              # ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸€è¦§
â”‚       â”‚   â””â”€â”€ [ãƒ¬ã‚¤ãƒ‰å]/
â”‚       â”‚       â””â”€â”€ [ãƒœã‚¹å].json
â”‚       â””â”€â”€ skills/
â”‚           â””â”€â”€ jobs.json               # ã‚¹ã‚­ãƒ«ãƒã‚¹ã‚¿ãƒ¼
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.ts                         # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ App.vue                         # ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ AppHeader.vue
â”‚   â”‚   â”œâ”€â”€ Timeline.vue
â”‚   â”‚   â”œâ”€â”€ HelpText.vue
â”‚   â”‚   â”œâ”€â”€ header/
â”‚   â”‚   â”‚   â”œâ”€â”€ BossSelector.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ PartySelector.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ ZoomControls.vue
â”‚   â”‚   â”‚   â””â”€â”€ EditToolbar.vue
â”‚   â”‚   â”œâ”€â”€ timeline/
â”‚   â”‚   â”‚   â”œâ”€â”€ BurstHighlight.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ TimelineHeader.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ PhaseRow.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ TimeAxisRow.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ GimmickRow.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ MemberArea.vue
â”‚   â”‚   â”‚   â””â”€â”€ MemberRow.vue
â”‚   â”‚   â”œâ”€â”€ timeline-items/
â”‚   â”‚   â”‚   â”œâ”€â”€ PhaseBar.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ GimmickBar.vue
â”‚   â”‚   â”‚   â””â”€â”€ SkillBar.vue
â”‚   â”‚   â”œâ”€â”€ modals/
â”‚   â”‚   â”‚   â”œâ”€â”€ PartyManageModal.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ ContentSettingsModal.vue
â”‚   â”‚   â”‚   â””â”€â”€ ConfirmModal.vue
â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚       â”œâ”€â”€ CascadeMenu.vue
â”‚   â”‚       â”œâ”€â”€ SkillPopup.vue
â”‚   â”‚       â”œâ”€â”€ ContextMenu.vue
â”‚   â”‚       â””â”€â”€ Toast.vue
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ contentStore.ts
â”‚   â”‚   â”œâ”€â”€ partyStore.ts
â”‚   â”‚   â”œâ”€â”€ skillMasterStore.ts
â”‚   â”‚   â”œâ”€â”€ uiStore.ts
â”‚   â”‚   â””â”€â”€ historyStore.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ composables/
â”‚   â”‚   â”œâ”€â”€ useKeyboardShortcuts.ts
â”‚   â”‚   â”œâ”€â”€ useDragAndDrop.ts
â”‚   â”‚   â”œâ”€â”€ useAutoSave.ts
â”‚   â”‚   â””â”€â”€ useZoom.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ content.ts
â”‚   â”‚   â”œâ”€â”€ party.ts
â”‚   â”‚   â”œâ”€â”€ skill.ts
â”‚   â”‚   â””â”€â”€ ui.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ timeFormat.ts
â”‚   â”‚   â”œâ”€â”€ idGenerator.ts
â”‚   â”‚   â””â”€â”€ debounce.ts
â”‚   â”‚
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ main.css
â”‚
â””â”€â”€ 01_docs/                            # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    â””â”€â”€ ...
```

### 5.2 ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«

#### index.jsonï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä¸€è¦§ï¼‰

```json
{
  "raids": [
    {
      "name": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ãƒ˜ãƒ“ãƒ¼ç´šé›¶å¼",
      "bosses": [
        { "name": "1å±¤", "file": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ãƒ˜ãƒ“ãƒ¼ç´šé›¶å¼/1å±¤.json" },
        { "name": "2å±¤", "file": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ãƒ˜ãƒ“ãƒ¼ç´šé›¶å¼/2å±¤.json" },
        { "name": "3å±¤", "file": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ãƒ˜ãƒ“ãƒ¼ç´šé›¶å¼/3å±¤.json" },
        { "name": "4å±¤", "file": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ãƒ˜ãƒ“ãƒ¼ç´šé›¶å¼/4å±¤.json" }
      ]
    },
    {
      "name": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ã‚¯ãƒ«ãƒ¼ã‚¶ãƒ¼ç´šé›¶å¼",
      "bosses": [
        { "name": "1å±¤", "file": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ã‚¯ãƒ«ãƒ¼ã‚¶ãƒ¼ç´šé›¶å¼/1å±¤.json" },
        { "name": "2å±¤", "file": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ã‚¯ãƒ«ãƒ¼ã‚¶ãƒ¼ç´šé›¶å¼/2å±¤.json" },
        { "name": "3å±¤", "file": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ã‚¯ãƒ«ãƒ¼ã‚¶ãƒ¼ç´šé›¶å¼/3å±¤.json" },
        { "name": "4å±¤", "file": "ã‚¢ãƒ«ã‚«ãƒ‡ã‚£ã‚¢ãƒ»ã‚¯ãƒ«ãƒ¼ã‚¶ãƒ¼ç´šé›¶å¼/4å±¤.json" }
      ]
    }
  ]
}
```

---

## 6. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ

| æ“ä½œ | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ |
|------|---------------|
| Undoï¼ˆå…ƒã«æˆ»ã™ï¼‰ | Ctrl + Z |
| Redoï¼ˆã‚„ã‚Šç›´ã—ï¼‰ | Ctrl + Y / Ctrl + Shift + Z |
| ä¿å­˜ | Ctrl + S |
| å‰Šé™¤ | Delete / Backspace |
| é¸æŠãƒ„ãƒ¼ãƒ« | V |
| åˆ†å‰²ãƒ„ãƒ¼ãƒ« | C |
| å…¨é¸æŠè§£é™¤ | Escape |

---

## 7. è‡ªå‹•ä¿å­˜

### 7.1 ãƒˆãƒªã‚¬ãƒ¼

- Piniaã®`$subscribe`ã§partyStoreã®å¤‰æ›´ã‚’æ¤œçŸ¥
- ãƒ‡ãƒã‚¦ãƒ³ã‚¹: 2ç§’ï¼ˆæœ€å¾Œã®å¤‰æ›´ã‹ã‚‰2ç§’å¾Œã«ä¿å­˜ï¼‰

### 7.2 å®Ÿè£…ã‚¤ãƒ¡ãƒ¼ã‚¸

```typescript
// useAutoSave.ts
export function useAutoSave() {
  const partyStore = usePartyStore()

  const debouncedSave = debounce(() => {
    partyStore.saveParty()
  }, 2000)

  partyStore.$subscribe((mutation, state) => {
    debouncedSave()
  })
}
```

---

## 8. æ³¨æ„äº‹é …

### ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘æ³¨æ„æ›¸ã

#### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æ–°è¦ä½œæˆæ™‚
```
âš  æ–°è¦ä½œæˆã«ã¤ã„ã¦
ä¿å­˜ã—ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ä»¥ä¸‹ã®å ´æ‰€ã«æ‰‹å‹•ã§é…ç½®ã—ã¦ãã ã•ã„:
  public/data/contents/[ãƒ¬ã‚¤ãƒ‰å]/[ãƒœã‚¹å].json
ã¾ãŸã€index.json ã«ã‚‚ã‚¨ãƒ³ãƒˆãƒªã‚’è¿½è¨˜ã—ã¦ãã ã•ã„ã€‚
é…ç½®å¾Œã€ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã™ã‚‹ã¨åæ˜ ã•ã‚Œã¾ã™ã€‚
```

#### index.jsonæ›´æ–°
```
âš  ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¿½åŠ ã—ãŸå ´åˆã¯ã€index.json ã«ã‚‚è¿½è¨˜ã—ã¦ãã ã•ã„ã€‚
```
